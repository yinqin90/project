!function(e){e.fn.methodizetable=function(a){var t=e.extend({},e.fn.methodizetable.defaults,a);return this.each(function(){var a=this;e(a).find("thead input[name='"+t.handleName+"']").after(e(document.createElement("INPUT")).attr("name",t.dataSaveHiddenName).attr("type","hidden")),e(this).find("thead input[name='"+t.handleName+"']").click(function(){var n=this;e(a).find("tbody tr").each(function(){e.fn.methodizetable.switchRowCheckedStatus(this,e(n).is(":checked"),t)}),e.fn.methodizetable.union(a,t)}),e(this).find("tbody tr").each(function(){var n=this;e(this).find("input[name='"+t.handleName+"']").click(function(){e.fn.methodizetable.switchRowCheckedStatus(n,e(this).is(":checked"),t),e(a).find("thead input[name='"+t.handleName+"']")[0].checked=e(a).find("tbody input[name='"+t.handleName+"']").size()===e(a).find("tbody input[name='"+t.handleName+"']:checked").size(),e.fn.methodizetable.union(a,t)})})})},e.fn.methodizetable.switchRowCheckedStatus=function(a,t,n){0!==e(a).find("input[name='"+n.handleName+"']").size()&&(t?e(a).addClass(n.activeRowClassName):e(a).removeClass(n.activeRowClassName),e(a).find("input[name='"+n.handleName+"']")[0].checked=t)},e.fn.methodizetable.union=function(a,t){var n=new Array;e(a).find("tbody input[name='"+t.handleName+"']").each(function(){e(this).is(":checked")&&n.push(e(this).attr("value"))}),e(a).find("input[name='"+t.dataSaveHiddenName+"']").val(n.join(t.separator))},e.fn.methodizetable.defaults={activeRowClassName:"on",separator:",",dataSaveHiddenName:"methodize-table-checked-set",handleName:"row-handle"}}(jQuery);