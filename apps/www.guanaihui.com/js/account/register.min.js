function RegisterController(){Controller.call(this),this.submitForm(),this.sendSms(),this.refreshValidateCode()}RegisterController.prototype.submitForm=function(){var e=this;require([e.utilStaticPrefix+"/jquery.ajaxsave.min.js"],function(){var a=$("form input[name='validateCode']"),t=$("form input[name='smsCode']"),r=$("form input[name='password']");$("form").ajaxsave({dataType:e.apiDataType,beforeSaveInterface:function(){void 0==a.attr("data-validation-engine")&&(a.attr("data-validation-engine","validate[required]"),a.attr("data-errormessage-value-missing","验证码不能为空"),t.attr("data-validation-engine","validate[required]"),t.attr("data-errormessage-value-missing","短信动态码不能为空"),r.attr("data-validation-engine","validate[required,custom[onlyLetterNumber],minSize[6],maxSize[18]]"),r.attr("data-errormessage-value-missing","密码不能为空"),r.attr("data-errormessage-value-error","密码必须是6-18位大小写字母或数字"),r.attr("data-errormessage-range-overflow","密码必须是6-18位大小写字母或数字"),r.attr("data-errormessage-range-underflow","密码必须是6-18位大小写字母或数字")),$("form").attr("action",e.loginApiUrl)},onSavingInterface:function(){e.tips("正在进行处理，请稍等...",3)},onErrorInterface:function(){e.tips("请求失败，请检查您的接口！",3)},onSuccessInterface:function(a){window.location.href=void 0!=a&&""!=a?a:e.welcomeUrl},onExceptionInterface:function(a){e.tips('<span class="text-danger">'+a+"</span>",5)}})})},RegisterController.prototype.sendSms=function(){var e=this;require([e.utilStaticPrefix+"/validation/js/languages/jquery.validationEngine-zh_CN.js",e.utilStaticPrefix+"/validation/js/jquery.validationEngine.js"],function(){$("form").validationEngine({promptPosition:"topLeft",autoHidePrompt:!0,autoHideDelay:5e3,showOneMessage:!0,maxErrorsPerField:1,validationEventTrigger:""}),$("#btnGetSmsCode").on("click",function(a){var t,r=60,i=$(this),n=$("form input[name='mobile']"),o=$("form input[name='validateCode']"),s=$("form input[name='smsCode']"),d=$("form input[name='password']");if(void 0!=o.attr("data-validation-engine")&&(o.removeAttr("data-validation-engine"),o.removeAttr("data-errormessage-value-missing"),s.removeAttr("data-validation-engine"),s.removeAttr("data-errormessage-value-missing"),d.removeAttr("data-validation-engine"),d.removeAttr("data-errormessage-value-missing"),d.removeAttr("data-errormessage-value-error"),d.removeAttr("data-errormessage-range-overflow"),d.removeAttr("data-errormessage-range-underflow")),t=$("form").validationEngine("validate"),!t)return!1;if(i.hasClass(".disabled"))return!1;var l={mobile:$.trim(n.val()),smsType:0},m={process:function(){i.addClass("disabled"),o.attr("data-validation-engine","validate[required]"),o.attr("data-errormessage-value-missing","验证码不能为空"),s.attr("data-validation-engine","validate[required]"),s.attr("data-errormessage-value-missing","短信动态码不能为空"),d.attr("data-validation-engine","validate[required,custom[onlyLetterNumber],minSize[6],maxSize[18]]"),d.attr("data-errormessage-value-missing","密码不能为空"),d.attr("data-errormessage-value-error","密码必须是6-18位大小写字母或数字"),d.attr("data-errormessage-range-overflow","密码必须是6-18位大小写字母或数字"),d.attr("data-errormessage-range-underflow","密码必须是6-18位大小写字母或数字");var e=window.setInterval(function(){r-=1,i.html("重新发送("+r+"s)"),0===r&&(i.html("发送验证码"),i.removeClass("disabled"),o.removeAttr("data-validation-engine"),o.removeAttr("data-errormessage-value-missing"),s.removeAttr("data-validation-engine"),s.removeAttr("data-errormessage-value-missing"),window.clearInterval(e))},1e3)},onExceptionInterface:function(a,t){e.tips('<span class="text-danger">'+t+"</span>",5)}};e.request(e.sendSmsApiUrl,l,m),a.preventDefault()})})},RegisterController.prototype.refreshValidateCode=function(){},$(document).ready(function(){new RegisterController});