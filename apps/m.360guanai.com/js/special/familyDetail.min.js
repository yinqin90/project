function FamilyDetailController(){this.setting={VAR_API_URL:"http://121.40.240.212:8088/"},Controller.call(this),this.toggleHeader(),this.swapTabs(),this.showPhoneModual(),this.isphone=function(a){var b=new RegExp(/^1[3|4|5|8|7][0-9]\d{8}$/);return b.test(a)}}FamilyDetailController.prototype.toggleHeader=function(){require([this.utilStaticPrefix+"/url/url.min.js"],function(){var a=$.url("?");a&&"header"in a&&("true"===a.header?$("header").show():$("header").hide())})},FamilyDetailController.prototype.swapTabs=function(){require([this.utilStaticPrefix+"/jquery.tabs.min.js"],function(){$(".tabs").tabs({eventType:"click",effect:"slideDown",duration:200})})},FamilyDetailController.prototype.showPhoneModual=function(){var a=this;$("#btnReserve").click(function(){a.dialog({tabindex:1,id:"phoneNum",effect:!1,url:"/html/special/phoneNumDialog.html"}),$("#phoneNum").on("loaded.bs.modal",function(b){$("#confirmtel").click(function(){var b=$("#banner h3").text().trim(),c=$("#storetype").val()+" : "+b,d="手机用户",e=$("#tel").val(),f=a.setting.VAR_API_URL+"Customer/CreateConsulation?type=3&remark="+c+"&Name="+d+"&PhoneNumber="+e+"&callback=?";return a.isphone(e)?void $.ajax({type:"GET",url:f,data:{},cache:!1,error:function(){$(".errorMsg").text("程序出错,请联系管理员.",30)},dataType:"jsonp",jsonp:"callback",success:function(b){b&&($("#phoneNum").modal("hide"),a.tips("您的联系方式已经保存,我们的销售人员将和您电话确认",30))}}):($(".errorMsg").text("请正确输入您的手机号码!",30),!1)})})})},$(document).ready(function(){new FamilyDetailController});