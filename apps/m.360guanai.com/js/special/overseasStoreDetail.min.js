function OverseasSuitDetailController(){this.setting={VAR_API_URL:"http://121.40.240.212:8088/"},Controller.call(this),this.toggleHeader(),this.swapTab(),this.showPhoneModual(),this.isphone=function(a){var b=new RegExp(/^1[3|4|5|8|7][0-9]\d{8}$/);return b.test(a)}}OverseasSuitDetailController.prototype.toggleHeader=function(){require([this.utilStaticPrefix+"/url/url.min.js"],function(){var a=$.url("?");a&&"header"in a&&("true"===a.header?$("header").show():$("header").hide())})},OverseasSuitDetailController.prototype.swapTab=function(){$(".tabs-handle li").click(function(){var a=$(this),b=a.index();a.addClass("on").siblings("li").removeClass("on"),$("#tabCon > div").eq(b).show().siblings("div").hide()})},OverseasSuitDetailController.prototype.showPhoneModual=function(){var a=this;0!==$("#btnReserve").size&&require([this.utilStaticPrefix+"/url/url.min.js"],function(){var b=$.url("?");$("#btnReserve").click(function(){a.dialog({tabindex:1,id:"phoneNum",effect:!1,url:"/html/special/phoneNumDialog.html"}),$("#phoneNum").on("loaded.bs.modal",function(c){$("#confirmtel").click(function(){var c=b.storename,d=$.trim($("h3").text()),e=$("#storetype").val()+" : "+c+"---"+d,f="手机用户",g=$("#tel").val(),h=a.setting.VAR_API_URL+"Customer/CreateConsulation?type=3&remark="+e+"&Name="+f+"&PhoneNumber="+g+"&callback=?";return a.isphone(g)?void $.ajax({type:"GET",url:h,data:{},cache:!1,error:function(){$(".errorMsg").text("程序出错,请联系管理员.",30)},dataType:"jsonp",jsonp:"callback",success:function(b){b&&($("#phoneNum").modal("hide"),a.tips("您的联系方式已经保存,我们的销售人员将和您电话确认",30))}}):($(".errorMsg").text("请正确输入您的手机号码!",30),!1)})})})})},$(document).ready(function(){new OverseasSuitDetailController});