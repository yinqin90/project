function LoginController(){Controller.call(this),this.submitForm(),this.SendSms()}LoginController.prototype.SendSms=function(){var a=this;require([a.utilStaticPrefix+"/validation/js/languages/jquery.validationEngine-zh_CN.js",a.utilStaticPrefix+"/validation/js/jquery.validationEngine.js"],function(){$("form").validationEngine({promptPosition:"topLeft",autoHidePrompt:!0,autoHideDelay:5e3,showOneMessage:!0,maxErrorsPerField:1}),$("form .btn-sm").on("click",function(b){var c=60,d=$(this),e=$("form input[name='mobile']"),f=$("form").validationEngine("validate");if(!f)return!1;if(d.hasClass(".disabled"))return!1;var g={mobile:$.trim(e.val()),smsType:0},h={process:function(a){d.addClass("disabled");var b=window.setInterval(function(){c-=1,d.html("重新发送("+c+"s)"),0===c&&(d.html("发送验证码"),d.removeClass("disabled"),window.clearInterval(b))},1e3)},onExceptionInterface:function(a,b){}};a.request(a.sendSmsApiUrl,g,h)})})},LoginController.prototype.submitForm=function(){var a=this;require(["//cdn01.360guanai.com/guanaihui/jssrc/jquery.ajaxsave.js"],function(){$("form").ajaxsave({dataType:a.apiDataType,beforeSaveInterface:function(){$("form").attr("action",a.loginApiUrl)},onSavingInterface:function(){a.tips("正在进行处理，请稍等...",3)},onErrorInterface:function(){a.tips("请求失败，请检查您的接口！",3)},onSuccessInterface:function(b){void 0!=b&&""!=b?window.location.href=b:window.location.href=a.welcomeUrl},onExceptionInterface:function(b){a.tips('<span class="text-danger">'+b+"</span>",5)}})})},$(document).ready(function(){new LoginController});