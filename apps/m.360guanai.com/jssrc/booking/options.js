/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1. 项目名称：m.360guanai.com
 2. 页面名称：Options(预约入口)
 3. 作者：赵华刚(zhaohuagang@guanaihui.com)
 4. 备注：
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
function OptionsController() {       
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    继承于Controller基类
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    Controller.call(this) ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    tabs内容切换
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    this.swapTabs() ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    加载体检项目内容
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    this.loadCheckItems() ;
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
    加载支持的门店内容
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    this.loadSupportStores() ;
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
tabs内容切换
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
OptionsController.prototype.swapTabs = function() {
    require([this.utilStaticPrefix + "/jquery.tabs.min.js"], function() {
        $(".tabs").tabs({
            "eventType" : "click",
            "effect" : "slideDown",
            "duration" : 200
        });
    });
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
加载体检项目内容
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
OptionsController.prototype.loadCheckItems = function() {
    require([this.appStaticPrefix + "/product/items.min.js"], function(){
        $("#checkItems").load($("#checkItems").attr("data-source"), function(){
            new CheckItems({ "scope" : this}) ;
        }) ;
    }) ;    
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
加载支持的门店内容
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
OptionsController.prototype.loadSupportStores = function() {
    require([this.appStaticPrefix + "/product/supportStore.min.js"], function(){
        $("#supportStore").load($("#supportStore").attr("data-source"), function(){
            new SupportStore({ "scope" : this}) ;
        }) ;
    }) ; 
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
类的实例化化
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
$(document).ready(function(){
    new OptionsController ;        
}) ;