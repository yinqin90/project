/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1. 项目名称：m.360guanai.com
 2. 页面名称：floatWindow(浮动窗口)
 3. 作者：赵华刚(zhaohuagang@guanaihui.com)
 4. 备注：
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
function FloatWindow(params) {      
    this.popTrigger = params.popTrigger ;    
    this.floatWindows = params.floatWindows ;    
    this.closeTrigger = (params === null || params.closeTrigger === null || params.closeTrigger === undefined) ? $(this.floatWindows).find(".float-window-header .retract") : params.closeTrigger ;
    this.bind() ;
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
触发窗口移出
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
FloatWindow.prototype.pop = function() {   
    $(this.floatWindows).animate({
        left : 0
    }, 200) ;
    $(document.body).css({
        "overflow" : "hidden"
    });
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
触发窗口收起
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
FloatWindow.prototype.close = function() {
    $(this.floatWindows).animate({
        left : "-100%"
    }, 200) ;
    $(document.body).css({
        "overflow" : "auto"
    }) ;
} ;
/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
事件绑定
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
FloatWindow.prototype.bind = function() {
    var classSelf = this ;
    $(this.popTrigger).click(function(){
        classSelf.pop() ;
    }) ;
    $(this.closeTrigger).click(function(){
        classSelf.close() ;
    }) ;
} ;

