require(["//cdn17.360guanai.com/bootstrap/3.3.4/js/bootstrap.min.js","//cdn02.360guanai.com/apps/enterprise.360guanai.com/js/controller.min.js","//cdn09.360guanai.com/guanaihui/js/util/jquery.cookie.min.js"],function(){function t(){Controller.call(this),this.loadPortals("console"),this.initCharts()}t.prototype.initCharts=function(){var t=this;this.request(this.lastOrderChartApiUrl,{user_id:$.cookie(this.cookieKeyConf.userId)},{process:function(e){Highcharts.setOptions({lang:{contextButtonTitle:"图表操作菜单",downloadJPEG:"下载为JPG文件",downloadPDF:"下载为PDF文件",downloadPNG:"下载为PNG文件",downloadSVG:"下载SVG矢量图",noData:"无数据",printChart:"打印图表"}}),$("#dataPanel .charts").highcharts({credits:{enabled:!1},chart:{type:"column",animation:{duration:1e3,easing:"linear"},backgroundColor:"transparent"},title:{text:$.cookie(t.cookieKeyConf.companyName)+"最近一张订单预约及到检情况统计图表",style:{color:"#000",font:"normal 2em/30px microsoft yahei,'Lucida Grande',Arial"}},subtitle:{text:"技术支持：关爱体检通",style:{color:"#515151",font:"normal 1.16em/30px microsoft yahei,'Lucida Grande',Arial"}},xAxis:{categories:e.result.xLabelArray,gridLineColor:"#eee",gridLineWidth:0,lineColor:"#c0c0c0",lineWidth:2,tickLine:"#c0c0c0",labels:{style:{font:"normal 1em/30px microsoft yahei,'Lucida Grande',Arial"}}},yAxis:{gridLineColor:"#eee",gridLineWidth:1,lineColor:"#c0c0c0",lineWidth:2,title:{text:"数量(人)",style:{font:"normal 1.16em/30px microsoft yahei,'Lucida Grande',Arial"}}},legend:{itemStyle:{font:"normal 1.5em/40px microsoft yahei,'Lucida Grande',Arial"}},tooltip:{headerFormat:'<span style="font-size :16px ; font-family : microsoft yahei ; line-height : 35px ;">{point.key}</span><table style="font-size :14px ; font-family : microsoft yahei ; line-height : 25px ;">',pointFormat:'<tr><td style="color:{series.color};">{series.name} ： </td><td><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"购买数",data:e.result.purchaseAmount},{name:"预约数",data:e.result.bookingAmount},{name:"到检数",data:e.result.checkedAmount}]})}})},$(document).ready(function(){new t})});