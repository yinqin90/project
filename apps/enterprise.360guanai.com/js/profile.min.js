require(["//cdn17.360guanai.com/bootstrap/3.3.4/js/bootstrap.min.js","//cdn02.360guanai.com/apps/enterprise.360guanai.com/js/controller.min.js","//cdn09.360guanai.com/guanaihui/js/util/jquery.cookie.min.js"],function(){function o(){Controller.call(this),this.loadPortals("profile"),this.bindDataToPage(),this.submitForm()}o.prototype.bindDataToPage=function(){$("form input[name='CompanyName']").val($.cookie(this.cookieKeyConf.companyName)),$("form input[name='Contact']").val($.cookie(this.cookieKeyConf.contact)),$("form input[name='Tel']").val($.cookie(this.cookieKeyConf.tel)),$("form input[name='Address']").val($.cookie(this.cookieKeyConf.address)),$("form textarea[name='Description']").val($.cookie(this.cookieKeyConf.description))},o.prototype.submitForm=function(){var o=this;require([this.utilStaticPrefix+"/jquery.ajaxsave.min.js"],function(){$("form").ajaxsave({dataType:o.apiDataType,beforeSaveInterface:function(){$("form").attr("action",o.updateProfileApiUrl),$("form input[name='accountid']").val($.cookie(o.cookieKeyConf.userName))},onSavingInterface:function(){o.tips("正在进行处理，请稍等...",3)},onErrorInterface:function(){o.tips("请求失败，请检查您的接口！",3)},onSuccessInterface:function(){o.tips("企业信息修改成功！",3,function(){o.clearCookieRedirect()})},onExceptionInterface:function(e){o.tips('<span class="text-danger">'+e+"</span>",5)}})})},$(document).ready(function(){new o})});