/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
m.360guanai.com这个应用的Gruntfile.js，如果要对这个app进行前端发布，请将这个文件重命名为Gruntfile.js后覆盖到static.joyouschina.com下，再执行grunt命令
 -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
module.exports = function(grunt) {
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     配置任务目标
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    grunt.initConfig({
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        读取package.json信息
        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        //pkg : grunt.file.readJSON("package.json") ,
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        合并js和css
        @合并 jquery-1.11.3.js, jquery.scrollup.js ,jquery.lazyload.js， jquery.cookie.js以及当前应用的基类为app.js
        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        concat: {
            options: {

            },
            dist: {
                src: ["guanaihui/js/lib/jQuery/jquery-1.11.3.js", "bootstrap/3.3.4/js/bootstrap.js", "joyous/js/util/cookie/jquery.cookie.js", "apps/m.360guanai.com/jssrc/controller.js"],
                dest: "apps/m.360guanai.com/jssrc/app.js"
            }
        },
        /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
        压缩js
        -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
        uglify: {
            build: {
                src: "apps/m.360guanai.com/jssrc/app.js",
                dest: "apps/m.360guanai.com/js/app.min.js"
            }
        }

    });
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     加载grunt插件
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    grunt.loadNpmTasks('grunt-contrib-concat');
    grunt.loadNpmTasks('grunt-contrib-uglify');
    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
     注册并执行任务
     -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
    grunt.registerTask("default", ["concat", "uglify:build"]);    

};